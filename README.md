# Microsoft-Sentinel-Lab
Microsoft Sentinel lab to prepare me for a security engineer role


<h2>Description</h2>
For this lab, I was tasked with exploring and setting up rules, playbooks and alerts in Microsoft sentinel.

I started off by signing up for the free trial of Azure. I get 30 days/$200 credit for Azure soI'll be making the best out of my time.

After successfully signing up, I then created a workspace, which allowed me to deploy Sentinel and set up the appropriate resource groups.

I then went through the steps to configure Sentinel to use the Azure Activity data connector. The data connector is what feeds data into Sentinel. I had to connect my subscription resource to AA so that the connector knows which resource group and Sentinel instance to feed data into. After establishing the connection, I then created a rule that uses the Azure Activity data connector.

Next, I moved onto creating my first playbook within Sentinel. A security playbook is a collection of tasks that can be invoked by Microsoft Sentinel in response to an alert. After successfully creating my first playbook, I then created a custom alert and then set up the playbook to be used as an automated response. This means that when certain conditions are met, the tactics in the playbook will be ran automatically.

To finish off the lab, I invoked an incident and documented the response generated by the previous alerts and playbooks. This involved me removing a previously created virtual machine. Deleting the virtual machine triggered an alert and created a Delete JIT Network Access Policies entry in the Azure activity log. I would then be able to view this incident in the threat management section of Sentinel.

To conclude this lab, I cleaned up the resources I set up, making sure to not let them run indefinitely, which would surely cause a strain on my wallet. For this step, I used powershell in the Azure portal and ran a command the remove the resources.

Through my first outing, I'm already seeing the power of Sentinel and am excited to explore more.
<br />


<h2>Languages and Utilities Used</h2>

- <b>PowerShell</b> 
- <b>Microsoft Sentinel</b>
- <b>Microsoft Defender</b>

<h2>Environments Used </h2>

- <b>Azure portal</b> 

<h2>Project overview:</h2>

<p align="center">
Deploying Sentinel to workspace: <br/>
<img src="https://i.imgur.com/madixor.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
Configuring the Azure Activity data connector:  <br/>
<img src="https://i.imgur.com/nQIs4Xv.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
Azure activity analytics: <br/>
<img src="https://i.imgur.com/w6F7J5Q.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
Created a custom rule:  <br/>  
<img src="https://i.imgur.com/0jrAU8s.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
Microsoft defender overview:  <br/>
(still waiting for secure score to update)
<img src=https://i.imgur.com/VvxFTKa.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
Populated alerts: <br/>
<img src=https://i.imgur.com/OhcR3Wo.png height="80%" width="80%"/>
<br />
<br />
Cleaning up the resources: <br/>
<img src=https://i.imgur.com/G3kZKR6.png height="80%" width="80%"/>
<br />
<br />
<!--
 ```diff
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>
